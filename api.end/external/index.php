<?php
$pathInfo = null; !$pathInfo && $pathInfo = $_SERVER['REQUEST_URI'] ?? null; !$pathInfo && $pathInfo = $_SERVER['PHP_SELF'] ?? null; !$pathInfo && $pathInfo = isset($_SERVER['REQUEST_URI']) ? $_SERVER['REQUEST_URI'] : null; $pathInfo = explode('?', $pathInfo); $pathInfo = reset($pathInfo); if (!$pathInfo) exit(); $pathInfo = explode('/', $pathInfo); $route1 = $pathInfo[2] ?? null; $route2 = $pathInfo[3] ?? null; if (!$route1 || !$route2) { exit(); } $route2 = str_replace('.php', '', $route2); if ($route1 === 'service') { $path = realpath(__DIR__ . DIRECTORY_SEPARATOR . 'service/index.php'); } else { $path = realpath(__DIR__ . DIRECTORY_SEPARATOR . $route1 . DIRECTORY_SEPARATOR . $route2 . '.php'); } if ($path === false) exit(); @require $path;