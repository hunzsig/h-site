<?php
 class AlipayMobilePublicMultiMediaExecute{ private $code = 200 ; private $msg = ''; private $body = ''; private $params = ''; private $fileSuffix = array( "image/jpeg" => 'jpg', "text/plain" => 'text' ); function __construct( $header, $body, $httpCode ){ $this -> code = $httpCode; $this -> msg = ''; $this -> params = $header ; $this -> body = $body; } public function getCode(){ return $this -> code ; } public function getMsg(){ return $this -> msg ; } public function getType(){ $subject = $this -> params ; $pattern = '/Content\-Type:([^;]+)/'; preg_match($pattern, $subject, $matches); if( $matches ){ $type = $matches[1]; }else{ $type = 'application/download'; } return str_replace( ' ', '', $type ); } public function getContentLength(){ $subject = $this -> params ; $pattern = '/Content-Length:\s*([^\n]+)/'; preg_match($pattern, $subject, $matches); return (int)( isset($matches[1] ) ? $matches[1] : '' ); } public function getFileSuffix( $fileType ){ $type = isset( $this -> fileSuffix[ $fileType ] ) ? $this -> fileSuffix[ $fileType ] : 'text/plain' ; if( !$type ){ $type = 'json'; } return $type; } public function getBody(){ return $this -> body ; } public function getParams(){ return $this -> params ; } } 